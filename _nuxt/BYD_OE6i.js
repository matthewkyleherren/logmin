import{Z as k,g as y,c as S,u as x,i as $,o as E,a as T,j as H,d as l,e as b,f as o,k as O,p as R,n as B,W as A,q as D,A as u,F as N,E as j,l as q}from"./RIBstFtf.js";import{_ as G}from"./CfAKP4zT.js";const L=6,M=120;function V({container:r,cards:a}){let t=n();k.ScrollTrigger.addEventListener("refreshInit",d);const m=[...a].splice(1).map((s,e)=>{const i=s.firstElementChild,c=[];return c.push(y.from(i,{ease:"none",y:()=>-1*t.cards[e].top+t.cards[e].gap,scale:1-.07*(e+1),scrollTrigger:{trigger:r,start:()=>`top+=${t.container.margin+t.cards[e].height-t.cards[e].offset} bottom`,end:()=>`bottom+=${t.container.margin-t.cards[e].bottom-t.cards[e].offset-t.cards[e].gap} bottom`,scrub:!0,invalidateOnRefresh:!0}})),t.cards[e].height>t.smallestCardHeight&&c.push(y.from(i,{ease:"none",clipPath:()=>`inset(${t.cards[e].height-t.smallestCardHeight}px 0 0 0)`,scrollTrigger:{trigger:s,start:()=>`top+=${t.container.margin} bottom`,end:()=>`bottom+=${t.container.margin-.5*t.cards[e].height} bottom`,scrub:!0,invalidateOnRefresh:!0}})),c});function n(){const s={bounds:r.offsetHeight,margin:window.vw(100)*M/1700,gap:window.vw(100)*L/1700,align:a[0].offsetHeight},e=a.map(h=>h.offsetHeight),i=[...a].splice(1).map((h,_)=>{const p=e[_+1],v=p-s.align,w=h.offsetTop+v,F=s.bounds-w-p,C=s.gap*(_+1);return{height:p,offset:v,top:w,bottom:F,gap:C}}),c=Math.min(...e);return{container:s,cards:i,smallestCardHeight:c}}function d(){t=n()}function f(){k.ScrollTrigger.removeEventListener("refreshInit",d),m.flat().forEach(s=>s.kill())}return{destroy:f}}const I={class:"background absolute inset-0"},z={class:"g-row justify-center text-center color-orange-25"},P={class:"g-col xxl-10 md-12 xs-16 title-3 xs-title-4 -medium mt-80 mb-120-64"},U={class:"cards w-cols-4 lg-w-cols-6 sm-w-cols-8 xs-w-cols-15 mx-auto color-white body -book relative"},W={class:"card ~t"},K={class:"opacity-70"},Z={class:"flex gap-8 items-center mt-16"},X={__name:"ClientTestimonials",props:{title:{type:String,required:!0},testimonials:{type:Array,required:!0},background:{type:Object,default:void 0}},setup(r){const a=["#BCFFBB","#BBD2FF","#F5FFBB","#FFBBF0"],g=S(null),t=x(g,{container:"ul",cards:["li"]}),m=$();return E(()=>{if(!m.touch){const n=V(t);T(()=>{n.destroy()})}}),(n,d)=>{const f=H("parallax");return l(),b("section",{ref_key:"root",ref:g,class:"_client-testimonials relative pb-120-64"},[o("div",I,[r.background?O((l(),R(B(A),{key:0,asset:r.background,class:"absolute inset-0 object-cover ~t",sizes:"xl:200vw md:200vw sm:150vw xs:100vw xxs:105vw",format:"webp",quality:"80"},null,8,["asset"])),[[f,-.066]]):D("",!0)]),o("div",z,[o("h2",P,u(r.title),1)]),o("ul",U,[(l(!0),b(N,null,j(r.testimonials,(s,e)=>(l(),b("li",{key:e},[o("div",W,[o("p",null,u(s.title),1),o("p",K,u(s.text),1),o("div",Z,[q(B(G),{name:s.client,color:"#360802","background-color":a[e%a.length]},null,8,["name","background-color"]),o("span",null,u(s.client),1)])])]))),128))])],512)}}};export{X as default};
